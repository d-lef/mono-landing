<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mono - Record from any app</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=MuseoModerno:wght@300;400;500&family=Comfortaa:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Dark theme (default) */
        :root {
            --bg-primary: #252525;
            --bg-secondary: #2D2D2D;
            --bg-hover: #3A3A3A;
            --bg-pressed: #454545;
            --accent: #E0E0E0;
            --text-primary: #FFFFFF;
            --text-secondary: #B0B0B0;
        }

        /* Light theme - system preference */
        @media (prefers-color-scheme: light) {
            :root:not(.dark) {
                --bg-primary: #F5F5F5;
                --bg-secondary: #FFFFFF;
                --bg-hover: #E0E0E0;
                --bg-pressed: #D0D0D0;
                --accent: #424242;
                --text-primary: #212121;
                --text-secondary: #757575;
            }
        }

        /* Light theme - manual override */
        :root.light {
            --bg-primary: #F5F5F5;
            --bg-secondary: #FFFFFF;
            --bg-hover: #E0E0E0;
            --bg-pressed: #D0D0D0;
            --accent: #424242;
            --text-primary: #212121;
            --text-secondary: #757575;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Comfortaa', sans-serif;
            font-weight: 400;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            height: 100vh;
            overflow: hidden;
        }

        /* Hero Section - Full viewport, centered */
        .hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Logo */
        .logo {
            display: flex;
            align-items: flex-end;
            font-family: 'MuseoModerno', sans-serif;
            font-size: clamp(48px, 12vw, 120px);
            font-weight: 300;
            letter-spacing: -0.02em;
            color: var(--text-primary);
            user-select: none;
            opacity: 0;
            transition: opacity 0.8s ease;
        }

        body.loaded .logo {
            opacity: 1;
        }

        .logo-char {
            display: flex;
            align-items: flex-end;
            line-height: 1;
        }

        .filled-o {
            width: 0.52em;
            height: 0.52em;
            background-color: var(--text-primary);
            border-radius: 50%;
            margin-bottom: 0.14em;
        }

        /* Tagline container - holds swappable groups */
        .tagline-container {
            position: relative;
            margin-top: 30px;
            height: 50px;
        }

        .tagline-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            opacity: 0;
            transition: opacity 0.25s ease;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
        }

        .tagline-group.visible {
            opacity: 1;
        }

        .tagline {
            text-align: center;
            font-size: clamp(10px, 3.5vw, 20px);
            color: var(--text-secondary);
            line-height: 1.4;
            margin: 0;
            pointer-events: none;
            white-space: nowrap;
        }

        /* Scroll indicator */
        .scroll-indicator {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            animation: bounce 2s ease-in-out infinite;
            transition: opacity 0.25s ease;
        }

        body.loaded .scroll-indicator.visible {
            opacity: 0.4;
        }

        .scroll-indicator svg {
            width: 24px;
            height: 24px;
            stroke: var(--text-secondary);
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(8px); }
        }

        /* Theme toggle button */
        .theme-toggle {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            width: 36px;
            height: 36px;
            border: none;
            border-radius: 8px;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .theme-toggle:hover {
            background-color: var(--bg-hover);
        }

        .theme-toggle:active {
            background-color: var(--bg-pressed);
        }

        .theme-toggle:not(:active):not(:hover) {
            transition: background-color 0.15s ease;
        }

        .theme-toggle svg {
            width: 20px;
            height: 20px;
            stroke: var(--text-secondary);
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        /* Show sun in dark mode, moon in light mode */
        .theme-toggle .icon-sun { display: block; }
        .theme-toggle .icon-moon { display: none; }

        /* Light theme icons - manual override */
        :root.light .theme-toggle .icon-sun { display: none; }
        :root.light .theme-toggle .icon-moon { display: block; }

        /* Light theme icons - system preference */
        @media (prefers-color-scheme: light) {
            :root:not(.dark) .theme-toggle .icon-sun { display: none; }
            :root:not(.dark) .theme-toggle .icon-moon { display: block; }
        }

    </style>
</head>
<body>
    <button class="theme-toggle" aria-label="Toggle theme">
        <svg class="icon-moon" viewBox="0 0 24 24">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
        </svg>
        <svg class="icon-sun" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="5"/>
            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
        </svg>
    </button>

    <section class="hero">
        <div class="content">
            <div class="logo">
                <div class="logo-char">m</div>
                <div class="logo-char"><span class="filled-o"></span></div>
                <div class="logo-char">n</div>
                <div class="logo-char"><span class="filled-o"></span></div>
            </div>

            <div class="tagline-container">
                <div class="scroll-indicator">
                    <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 5v14M5 12l7 7 7-7"/>
                    </svg>
                </div>
                <div class="tagline-group group-1">
                    <p class="tagline">For people who want to record from any app</p>
                    <p class="tagline">and manage recordings in one place</p>
                </div>
                <div class="tagline-group group-2">
                    <p class="tagline">No-subscription culture:</p>
                    <p class="tagline">AI features with one-time payment of 50 euros</p>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Theme toggle
        const themeToggle = document.querySelector('.theme-toggle');
        const root = document.documentElement;

        function isLightMode() {
            if (root.classList.contains('light')) return true;
            if (root.classList.contains('dark')) return false;
            return window.matchMedia('(prefers-color-scheme: light)').matches;
        }

        themeToggle.addEventListener('click', () => {
            if (isLightMode()) {
                root.classList.remove('light');
                root.classList.add('dark');
            } else {
                root.classList.remove('dark');
                root.classList.add('light');
            }
        });

        // Wait for font to load before showing content
        document.fonts.ready.then(() => {
            document.body.classList.add('loaded');
        });

        const group1 = document.querySelector('.group-1');
        const group2 = document.querySelector('.group-2');
        const scrollIndicator = document.querySelector('.scroll-indicator');

        // States: 0 = nothing, 1 = group1, 2 = group2
        let currentState = 0;
        let isLocked = false;
        let settleTimeout = null;
        const animationTime = 600; // ms - matches CSS transition
        const settleTime = 100; // ms - wait for kinetic scroll to stop

        function updateVisibility() {
            group1.classList.remove('visible');
            group2.classList.remove('visible');
            scrollIndicator.classList.remove('visible');

            if (currentState === 0) {
                scrollIndicator.classList.add('visible');
            } else if (currentState === 1) {
                group1.classList.add('visible');
            } else if (currentState === 2) {
                group2.classList.add('visible');
            }
        }

        // Show scroll indicator on initial load
        document.fonts.ready.then(() => {
            scrollIndicator.classList.add('visible');
        });

        // Scroll handling: lock during animation, then wait for scroll to settle
        window.addEventListener('wheel', (e) => {
            e.preventDefault();

            // During lock, reset settle timer (kinetic scroll still happening)
            if (isLocked) {
                if (settleTimeout) clearTimeout(settleTimeout);
                settleTimeout = setTimeout(() => {
                    isLocked = false;
                }, settleTime);
                return;
            }

            // Change state
            if (e.deltaY > 5 && currentState < 2) {
                currentState++;
                updateVisibility();
                isLocked = true;
                // After animation, start watching for settle
                setTimeout(() => {
                    settleTimeout = setTimeout(() => {
                        isLocked = false;
                    }, settleTime);
                }, animationTime);
            } else if (e.deltaY < -5 && currentState > 0) {
                currentState--;
                updateVisibility();
                isLocked = true;
                setTimeout(() => {
                    settleTimeout = setTimeout(() => {
                        isLocked = false;
                    }, settleTime);
                }, animationTime);
            }
        }, { passive: false });

        // Touch support for mobile
        let touchStartY = 0;

        window.addEventListener('touchstart', (e) => {
            touchStartY = e.touches[0].clientY;
        }, { passive: true });

        window.addEventListener('touchend', (e) => {
            const deltaY = touchStartY - e.changedTouches[0].clientY;
            if (deltaY > 50 && currentState < 2) {
                currentState++;
                updateVisibility();
            } else if (deltaY < -50 && currentState > 0) {
                currentState--;
                updateVisibility();
            }
        }, { passive: true });
    </script>
</body>
</html>
